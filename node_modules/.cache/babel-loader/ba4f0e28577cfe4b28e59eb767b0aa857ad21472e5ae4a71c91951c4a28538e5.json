{"ast":null,"code":"var _jsxFileName = \"D:\\\\Wishlist\\\\Frontend\\\\Wishifio-wishlist\\\\src\\\\context\\\\AuthContext.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { api } from '../config/request';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/React.createContext(null);\nexport const AuthContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [user, setUser] = useState();\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const getAuthStatus = () => {\n    api.get(\"auth/user\").then(res => {\n      if (res.status === 200 && res.data) {\n        setUser(res.data);\n        setIsAuthenticated(true);\n      } else {\n        setIsAuthenticated(false);\n      }\n      setIsLoading(false);\n    }).catch(() => {\n      console.error(\"Auth error\");\n      setIsAuthenticated(false);\n      setIsLoading(false);\n    });\n  };\n  useEffect(() => {\n    getAuthStatus();\n  }, []);\n  const value = {\n    isAuthenticated,\n    isLoading,\n    user,\n    getAuthStatus\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(AuthContextProvider, \"eJl5i+I25ASvAx38n6HxQKq3EsA=\");\n_c = AuthContextProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthContextProvider\");","map":{"version":3,"names":["React","useEffect","useState","api","AuthContext","createContext","AuthContextProvider","children","user","setUser","isLoading","setIsLoading","isAuthenticated","setIsAuthenticated","getAuthStatus","get","then","res","status","data","catch","console","error","value"],"sources":["D:/Wishlist/Frontend/Wishifio-wishlist/src/context/AuthContext.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport { api } from '../config/request';\r\n\r\nexport const AuthContext = React.createContext<AuthContextType | null>(null);\r\n\r\nexport const AuthContextProvider = ({children} : AuthContextProps) => {\r\n    const [user, setUser] = useState();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n    const getAuthStatus = () => {\r\n        api.get(\"auth/user\")\r\n            .then((res) => {\r\n                if (res.status === 200 && res.data) {\r\n                    setUser(res.data);\r\n                    setIsAuthenticated(true);\r\n                } else {\r\n                    setIsAuthenticated(false);\r\n                }\r\n                setIsLoading(false);\r\n            }).catch(() => {\r\n            console.error(\"Auth error\");\r\n            setIsAuthenticated(false);\r\n            setIsLoading(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        getAuthStatus();\r\n    }, []);\r\n\r\n    const value = {\r\n        isAuthenticated,\r\n        isLoading,\r\n        user,\r\n        getAuthStatus\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\ninterface AuthContextProps {\r\n    children: React.ReactNode;\r\n}\r\n\r\nexport interface AuthContextType {\r\n    isAuthenticated: boolean;\r\n    isLoading: boolean;\r\n    user: any;\r\n    getAuthStatus: () => void;\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,GAAG,QAAQ,mBAAmB;AAAC;AAExC,OAAO,MAAMC,WAAW,gBAAGJ,KAAK,CAACK,aAAa,CAAyB,IAAI,CAAC;AAE5E,OAAO,MAAMC,mBAAmB,GAAG,QAAmC;EAAA;EAAA,IAAlC;IAACC;EAA2B,CAAC;EAC7D,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,EAAE;EAClC,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACU,eAAe,EAAEC,kBAAkB,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAE7D,MAAMY,aAAa,GAAG,MAAM;IACxBX,GAAG,CAACY,GAAG,CAAC,WAAW,CAAC,CACfC,IAAI,CAAEC,GAAG,IAAK;MACX,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,IAAID,GAAG,CAACE,IAAI,EAAE;QAChCV,OAAO,CAACQ,GAAG,CAACE,IAAI,CAAC;QACjBN,kBAAkB,CAAC,IAAI,CAAC;MAC5B,CAAC,MAAM;QACHA,kBAAkB,CAAC,KAAK,CAAC;MAC7B;MACAF,YAAY,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC,CAACS,KAAK,CAAC,MAAM;MACfC,OAAO,CAACC,KAAK,CAAC,YAAY,CAAC;MAC3BT,kBAAkB,CAAC,KAAK,CAAC;MACzBF,YAAY,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC;EACN,CAAC;EAEDV,SAAS,CAAC,MAAM;IACZa,aAAa,EAAE;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMS,KAAK,GAAG;IACVX,eAAe;IACfF,SAAS;IACTF,IAAI;IACJM;EACJ,CAAC;EAED,oBACI,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAES,KAAM;IAAA,UAC9BhB;EAAQ;IAAA;IAAA;IAAA;EAAA,QACU;AAE/B,CAAC;AAAA,GAtCYD,mBAAmB;AAAA,KAAnBA,mBAAmB;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}