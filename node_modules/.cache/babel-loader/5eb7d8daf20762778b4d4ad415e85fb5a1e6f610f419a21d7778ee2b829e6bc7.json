{"ast":null,"code":"var _jsxFileName = \"D:\\\\Wishlist\\\\Frontend\\\\Wishifio-wishlist\\\\src\\\\components\\\\WishlistItem.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { AiOutlineLink } from 'react-icons/ai';\nimport { MdOutlineCreate } from 'react-icons/md';\nimport { RiDeleteBinLine } from 'react-icons/ri';\nimport { CgSpinner } from 'react-icons/cg';\nimport { api } from \"../config/request\";\nimport { deleteWishlistErrors, processServerErrors } from \"../config/serverErrors\";\nimport { ConfirmModal } from \"./modals/ConfirmModal\";\nimport { GeneralErrorMsg } from \"./GeneralErrorMsg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const WishlistItem = props => {\n  _s();\n  const [generalError, setGeneralError] = React.useState(null);\n  const [isConfirmModalOpen, setIsConfirmModalOpen] = useState(false);\n  const [isDeleting, setIsDeleting] = React.useState(false);\n  const handleDelete = () => {\n    if (!props.isOwner || !props.wishlistHash) {\n      return;\n    }\n    setIsDeleting(true);\n    api.delete(`/wishlist/${props.wishlistHash}/item/${props.item.id}`).then(() => {\n      setIsDeleting(false);\n      props.removeItem(props.item.id);\n    }).catch(err => {\n      const serverError = processServerErrors(err, undefined, setGeneralError, deleteWishlistErrors);\n      if (!serverError) {\n        setGeneralError(deleteWishlistErrors['ITEM_ERROR'].msg);\n      }\n      setIsDeleting(false);\n    });\n  };\n  const handleClickDelete = () => {\n    if (isDeleting) return;\n    setIsConfirmModalOpen(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-row shadow bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 bg-gray-200 flex-shrink-0 flex items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"http://localhost:5000\" + props.item.imageUrl,\n        className: \"w-64 h-48 rounded object-cover\",\n        alt: \"Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col p-4 w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"uppercase font-bold text-xl text-gray-800\",\n        children: props.item.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 h-6\",\n        children: props.item.subtitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-3 flex-grow-0 mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"Price range:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-900 font-semibold text-lg block\",\n            children: props.item.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"Notes:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500 line-clamp-3 block\",\n            children: props.item.note || \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 mt-5 flex flex-row justify-center gap-x-5\",\n        children: [props.item.url && /*#__PURE__*/_jsxDEV(\"a\", {\n          href: props.item.url,\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          className: \"bg-sky-500 rounded px-7 py-2.5 text-white flex flex-row justify-center items-center hover:bg-sky-600 transition gap-x-1\",\n          children: [/*#__PURE__*/_jsxDEV(AiOutlineLink, {\n            className: \"text-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this), \" View website\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this), props.isOwner && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"border-gray-700 border-2 rounded px-7 py-2.5 text-dark flex flex-row font-semibold justify-center items-center hover:bg-dark hover:text-white hover:border-dark transition gap-x-1\",\n            children: [/*#__PURE__*/_jsxDEV(MdOutlineCreate, {\n              className: \"text-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 33\n            }, this), \" Edit\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleClickDelete,\n            className: \"border-red-500 text-red-500 border-2 rounded px-4 py-2.5 text-dark flex flex-row font-semibold justify-center items-center hover:bg-red-500 hover:text-white transition gap-x-1\",\n            children: isDeleting ? /*#__PURE__*/_jsxDEV(CgSpinner, {\n              className: \"animate-spin text-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(RiDeleteBinLine, {\n              className: \"text-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), generalError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-1\",\n        children: /*#__PURE__*/_jsxDEV(GeneralErrorMsg, {\n          message: generalError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmModal, {\n      isOpen: isConfirmModalOpen,\n      setIsOpen: setIsConfirmModalOpen,\n      title: \"Are you sure?\",\n      description: \"You are about to delete a wish. This action cannot be undone.\",\n      onConfirm: handleDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(WishlistItem, \"7mgBZ6NReMH47VOzQS2Inhzu1Mw=\");\n_c = WishlistItem;\nvar _c;\n$RefreshReg$(_c, \"WishlistItem\");","map":{"version":3,"names":["React","useState","AiOutlineLink","MdOutlineCreate","RiDeleteBinLine","CgSpinner","api","deleteWishlistErrors","processServerErrors","ConfirmModal","GeneralErrorMsg","WishlistItem","props","generalError","setGeneralError","isConfirmModalOpen","setIsConfirmModalOpen","isDeleting","setIsDeleting","handleDelete","isOwner","wishlistHash","delete","item","id","then","removeItem","catch","err","serverError","undefined","msg","handleClickDelete","imageUrl","name","subtitle","price","note","url"],"sources":["D:/Wishlist/Frontend/Wishifio-wishlist/src/components/WishlistItem.tsx"],"sourcesContent":["import React, {useState} from 'react';\r\nimport { AiOutlineLink } from 'react-icons/ai';\r\nimport { MdOutlineCreate } from 'react-icons/md';\r\nimport { RiDeleteBinLine } from 'react-icons/ri';\r\nimport { CgSpinner } from 'react-icons/cg';\r\nimport { api } from \"../config/request\";\r\nimport { deleteWishlistErrors, processServerErrors } from \"../config/serverErrors\";\r\nimport {ConfirmModal} from \"./modals/ConfirmModal\";\r\nimport {GeneralErrorMsg} from \"./GeneralErrorMsg\";\r\n\r\nexport const WishlistItem: React.FC<WishlistItemProps> = (props) => {\r\n    const [generalError, setGeneralError] = React.useState<string | null>(null);\r\n    const [isConfirmModalOpen, setIsConfirmModalOpen] = useState(false);\r\n    const [isDeleting, setIsDeleting] = React.useState<boolean>(false);\r\n\r\n    const handleDelete = () => {\r\n        if (!props.isOwner || !props.wishlistHash) {\r\n            return;\r\n        }\r\n        setIsDeleting(true);\r\n        api.delete(`/wishlist/${props.wishlistHash}/item/${props.item.id}`)\r\n            .then(() => {\r\n                setIsDeleting(false);\r\n                props.removeItem(props.item.id);\r\n            }).catch((err) => {\r\n                const serverError = processServerErrors(err, undefined, setGeneralError, deleteWishlistErrors);\r\n                if (!serverError) {\r\n                    setGeneralError(deleteWishlistErrors['ITEM_ERROR' as keyof typeof deleteWishlistErrors].msg);\r\n                }\r\n                setIsDeleting(false);\r\n            }\r\n        );\r\n    }\r\n\r\n    const handleClickDelete = () => {\r\n        if (isDeleting) return;\r\n        setIsConfirmModalOpen(true);\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-row shadow bg-white\">\r\n            <div className=\"p-3 bg-gray-200 flex-shrink-0 flex items-center\">\r\n                <img\r\n                    src={\"http://localhost:5000\" + props.item.imageUrl}\r\n                    className=\"w-64 h-48 rounded object-cover\"\r\n                    alt=\"Product\"\r\n                />\r\n            </div>\r\n            <div className=\"flex flex-col p-4 w-full\">\r\n                <div className=\"uppercase font-bold text-xl text-gray-800\">\r\n                    {props.item.name}\r\n                </div>\r\n                <p className=\"text-gray-500 h-6\">\r\n                    {props.item.subtitle}\r\n                </p>\r\n                <div className=\"grid grid-cols-3 flex-grow-0 mt-5\">\r\n                    <div>\r\n                        <span className=\"text-gray-600\">Price range:</span>\r\n                        <span className=\"text-gray-900 font-semibold text-lg block\">{props.item.price}</span>\r\n                    </div>\r\n                    <div className=\"col-span-2\">\r\n                        <span className=\"text-gray-600\">Notes:</span>\r\n                        <span className=\"text-gray-500 line-clamp-3 block\">{props.item.note || \"-\"}</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"mb-2 mt-5 flex flex-row justify-center gap-x-5\">\r\n                    { props.item.url &&\r\n                        <a href={props.item.url} target=\"_blank\" rel=\"noreferrer\" className=\"bg-sky-500 rounded px-7 py-2.5 text-white flex flex-row justify-center items-center hover:bg-sky-600 transition gap-x-1\">\r\n                            <AiOutlineLink className=\"text-lg\" /> View website\r\n                        </a>\r\n                    }\r\n                    { props.isOwner && (\r\n                        <>\r\n                            <button className=\"border-gray-700 border-2 rounded px-7 py-2.5 text-dark flex flex-row font-semibold justify-center items-center hover:bg-dark hover:text-white hover:border-dark transition gap-x-1\">\r\n                                <MdOutlineCreate className=\"text-lg\" /> Edit\r\n                            </button>\r\n                            <button onClick={handleClickDelete} className=\"border-red-500 text-red-500 border-2 rounded px-4 py-2.5 text-dark flex flex-row font-semibold justify-center items-center hover:bg-red-500 hover:text-white transition gap-x-1\">\r\n                                {isDeleting ?\r\n                                    <CgSpinner className=\"animate-spin text-lg\" /> :\r\n                                    <RiDeleteBinLine className=\"text-lg\" />\r\n                                }\r\n                            </button>\r\n                        </>\r\n                    )}\r\n                </div>\r\n                { generalError &&\r\n                    <div className=\"text-center mt-1\">\r\n                        <GeneralErrorMsg message={generalError} />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <ConfirmModal\r\n                isOpen={isConfirmModalOpen}\r\n                setIsOpen={setIsConfirmModalOpen}\r\n                title=\"Are you sure?\"\r\n                description=\"You are about to delete a wish. This action cannot be undone.\"\r\n                onConfirm={handleDelete}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\ninterface WishlistItemProps {\r\n    wishlistHash: string | undefined\r\n    item: any\r\n    isOwner: boolean\r\n    removeItem: (id: string) => void\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}